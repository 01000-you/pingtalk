# 개발 환경 설정 (Windows 기준)

## 현재 리포 기준 폴더
- Flutter SDK: `C:\Users\USER\dev\flutter`
- Android SDK: `C:\Users\USER\AppData\Local\Android\Sdk`
- Android Studio JDK(JBR): `C:\Program Files\Android\Android Studio\jbr`

> 참고: iOS(아이폰) / Apple Watch 앱 개발 및 실제 디바이스 테스트는 **macOS + Xcode** 환경이 필수입니다.
> 이 Windows 환경에서는 Android + Windows/Web까지 진행 가능합니다.

## 필수 환경 변수
아래 값이 잡혀 있어야 `flutter doctor`가 통과합니다.

- `JAVA_HOME`: `C:\Program Files\Android\Android Studio\jbr`
- `ANDROID_SDK_ROOT`: `C:\Users\USER\AppData\Local\Android\Sdk`
- `ANDROID_HOME`: `C:\Users\USER\AppData\Local\Android\Sdk` (호환용)

그리고 PATH에 아래가 포함되어야 합니다.
- `C:\Users\USER\dev\flutter\bin`
- `%JAVA_HOME%\bin`
- `%ANDROID_SDK_ROOT%\platform-tools`

### Git Bash(현재 세션 임시 설정)
Git Bash에서 `flutter run`을 할 때 `JAVA_HOME is not set`가 뜨면, 아래를 **그 터미널에서만** 한 번 실행하세요.

```bash
export JAVA_HOME="/c/Program Files/Android/Android Studio/jbr"
export ANDROID_SDK_ROOT="/c/Users/USER/AppData/Local/Android/Sdk"
export ANDROID_HOME="$ANDROID_SDK_ROOT"
export PATH="$PATH:$JAVA_HOME/bin:$ANDROID_SDK_ROOT/platform-tools"
```

## 상태 확인
```bash
flutter doctor
```

## 실행
### Windows 데스크톱
```bash
cd mobile
flutter run -d windows
```

### Android
1) Android Studio에서 에뮬레이터를 생성하거나(AVD), 실기기를 연결합니다.

2) 실행
```bash
cd mobile
flutter run -d android
```

## 코어 패키지 테스트
```bash
cd packages/pingtalk_core
dart test
```

